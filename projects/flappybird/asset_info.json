{"from": "community-detail", "show_only_answer": "true", "v": "1638559823400", "name": "flappybird", "xml": "import sys,turtle,pygame,random\n\n\n\nnum=0\nclass Bird(object):\n    def __init__(self):\n        self.birdRect=pygame.Rect(65,50,50,50)\n        a=random.choice([1,4,7])\n        self.birdStatus=[pygame.image.load(str(a)+\".png\"),\n                        pygame.image.load(str(a+1)+\".png\"),\n                        pygame.image.load(str(a+2)+\".png\")]\n        self.dead=False\n        self.status=0\n        self.birdX=120\n        self.birdY=350\n        self.jump=False\n        self.jumpSpeed=10\n        self.gravity=5\n        \n        \n    def birdUpdate(self):\n        global num\n        self.birdStatus\n        num+=1\n        self.status=num%3\n        if self.jump:\n            self.jumpSpeed-=0.5\n            self.birdY-=self.jumpSpeed\n        else:\n            self.gravity+=0.2\n            self.birdY+=self.gravity\n            \n        self.birdRect[1]=self.birdY\n\n\n\nclass Pipeline(object):\n    def __init__(self):\n        self.wallx=400\n        self.wally=random.randint(-100,0)\n        s=random.randint(1,2)\n        aUp=pygame.image.load(\"p\"+str(s)+\".png\")\n        self.pineUp=pygame.transform.flip(aUp,False,True)\n        self.pineDown=pygame.image.load(\"p\"+str(s)+\".png\")\n\n        \n    def updatePipeline(self):\n        global score\n        self.wallx-=5\n        if self.wallx==20 and not Bird.dead:\n            score+=1\n            sound1.play()\n        if self.wallx<-80:\n            self.wally=random.randint(-100,0)\n            self.wallx=400\n            \n\ndef createMap():\n    \n    screen.fill((255,255,255))\n    screen.blit(background,(0,0)) \n    #\u7ba1\u9053\n    screen.blit(Pipeline.pineUp,(Pipeline.wallx,Pipeline.wally))\n    screen.blit(Pipeline.pineDown,(Pipeline.wallx,Pipeline.wally+500))\n    Pipeline.updatePipeline()\n    #\u9e1f\n    if Bird.dead:\n        Bird.status=2\n    screen.blit(Bird.birdStatus[Bird.status],(Bird.birdX,Bird.birdY))\n    Bird.birdUpdate()\n    #\u5206\u6570\n    screen.blit(font.render(str(score),-1,(255,255,255)),(190,50))\n    pygame.display.update()\n\ndef checkDead():\n    upRect=pygame.Rect(Pipeline.wallx,Pipeline.wally,Pipeline.pineDown.get_width()-20,Pipeline.pineDown.get_height()-5)\n    downRect=pygame.Rect(Pipeline.wallx,Pipeline.wally+500,Pipeline.pineDown.get_width()-20,Pipeline.pineDown.get_height()-5)\n    if upRect.colliderect(Bird.birdRect) or downRect.colliderect(Bird.birdRect):\n        Bird.dead=True\n    if not 0<Bird.birdRect[1]<height:\n        Bird.dead=True\n        \n        return True\n    else:\n        return False\n\ndef getResult():\n    final_text1=\"Good game\"\n    final_text2=\"Your final score is:\"+str(score)\n    ft1_font=pygame.font.SysFont(\"\u5fae\u8f6f\u96c5\u9ed1\",70)\n    ft1_surf=font.render(final_text1,1,(242,3,36))\n    ft2_font=pygame.font.SysFont(\"\u5fae\u8f6f\u96c5\u9ed1\",50)\n    ft2_surf=font.render(final_text2,1,(253,177,6))\n    screen.blit(ft1_surf,[(screen.get_width()-ft1_surf.get_width())/2,100])\n    screen.blit(ft2_surf,[(screen.get_width()-ft2_surf.get_width())/2,200])\n    pygame.display.flip()\n    \n    \nflag=True\nif __name__==\"__main__\":\n    \n    pygame.init()\n    font=pygame.font.SysFont(None,50)\n    size=width,height=400,650\n    screen=pygame.display.set_mode(size)\n    pygame.display.set_caption(\"\u5c0f\u997c\u5e72\")\n    clock=pygame.time.Clock()\n    Pipeline=Pipeline()\n    Bird=Bird()\n    sound1=pygame.mixer.Sound(\"point.wav\")\n    sound2=pygame.mixer.Sound(\"hit.wav\")\n    score=0\n    ss=random.randint(1,2)\n    \n    key=False\n    while True:\n        clock.tick(60)\n        for event in pygame.event.get():\n            if event.type==pygame.QUIT:\n                # sys.exit()\n                pygame.quit()\n                print(\"\u70b9\u51fb\u5de6\u4fa7\u8fd0\u884c\u91cd\u65b0\u5f00\u59cb\\n\")\n                \n                input(\"\u6309\u4e0b\u56de\u8f66\u952e\u67e5\u770b\u4f5c\u54c1\u96c6:\")\n                import z\n                sys.exit()\n            if(event.type==pygame.KEYDOWN or event.type==pygame.MOUSEBUTTONDOWN) and not Bird.dead:\n                key =True\n                Bird.jump=True\n                Bird.gravity=5\n                Bird.jumpSpeed=10\n        if key:\n            background=pygame.image.load(\"bg\"+str(ss)+\".png\")\n            background=pygame.transform.scale(background,(400,650))\n            if checkDead():\n                getResult()\n                if flag:\n                    sound2.play()\n                    flag=not flag\n            else:\n                createMap()\n        else:\n            a=pygame.image.load(\"bg\"+str(ss)+\".png\")\n            background1=pygame.transform.scale(a,(400,650))\n            b=pygame.image.load(\"message.png\")\n            background=pygame.transform.scale(b,(184,267))\n            screen.blit(background1,(0,0))\n            screen.blit(background,((400-184)/2,(650-267)/2))\n            screen.blit(Bird.birdStatus[Bird.status],(Bird.birdX,Bird.birdY))\n            pygame.display.update()\n    \n", "type": "run", "lang": "python", "id": 4574015, "original_id": 6, "version": "offline", "args": [], "code_complete": 1, "removed": 0, "assets": [{"id": "f9b4c46908b7800654f5de7abdc56a0d", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "z (1).py", "hide": false, "percentage": 100, "loading": false, "size": 136, "value": "", "text": "z (1).py", "title": "z (1).py", "disabled": false, "isExpanded": false, "dataFormat": "py", "ext": "py", "icon": "iconfont iconpython", "svgId": "#iconpython", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "f9b4c46908b7800654f5de7abdc56a0d", "md5ext": "f9b4c46908b7800654f5de7abdc56a0d.py", "mode": "client", "state": "uploadOk", "index": 0, "preClick": false, "preview": true, "editable": true, "lang": "python", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "b747bc2e0c8c7bc95fb9de9d018172e1", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "1.png", "hide": false, "percentage": 100, "loading": false, "size": 2959, "value": "", "text": "1.png", "title": "1.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "b747bc2e0c8c7bc95fb9de9d018172e1", "md5ext": "b747bc2e0c8c7bc95fb9de9d018172e1.png", "mode": "client", "state": "uploadOk", "index": 1, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "af7220f1c1e9b3d21fbe06f8cf1a1df7", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "2.png", "hide": false, "percentage": 100, "loading": false, "size": 3027, "value": "", "text": "2.png", "title": "2.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "af7220f1c1e9b3d21fbe06f8cf1a1df7", "md5ext": "af7220f1c1e9b3d21fbe06f8cf1a1df7.png", "mode": "client", "state": "uploadOk", "index": 2, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "58e7e0b96b1ca4023b70deebf8569604", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "3.png", "hide": false, "percentage": 100, "loading": false, "size": 2953, "value": "", "text": "3.png", "title": "3.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "58e7e0b96b1ca4023b70deebf8569604", "md5ext": "58e7e0b96b1ca4023b70deebf8569604.png", "mode": "client", "state": "uploadOk", "index": 3, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "4291fa68d3f564d788ec523a554000c6", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "4.png", "hide": false, "percentage": 100, "loading": false, "size": 2948, "value": "", "text": "4.png", "title": "4.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "4291fa68d3f564d788ec523a554000c6", "md5ext": "4291fa68d3f564d788ec523a554000c6.png", "mode": "client", "state": "uploadOk", "index": 4, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "b45d30debbb777386c5223788d9699ee", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "5.png", "hide": false, "percentage": 100, "loading": false, "size": 2949, "value": "", "text": "5.png", "title": "5.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "b45d30debbb777386c5223788d9699ee", "md5ext": "b45d30debbb777386c5223788d9699ee.png", "mode": "client", "state": "uploadOk", "index": 5, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "29d7e57bf5dcb8929792b34cdfb26603", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "6.png", "hide": false, "percentage": 100, "loading": false, "size": 2944, "value": "", "text": "6.png", "title": "6.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "29d7e57bf5dcb8929792b34cdfb26603", "md5ext": "29d7e57bf5dcb8929792b34cdfb26603.png", "mode": "client", "state": "uploadOk", "index": 6, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "f4ba85013c86c0952186ebb3695dc8e8", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "7.png", "hide": false, "percentage": 100, "loading": false, "size": 2949, "value": "", "text": "7.png", "title": "7.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "f4ba85013c86c0952186ebb3695dc8e8", "md5ext": "f4ba85013c86c0952186ebb3695dc8e8.png", "mode": "client", "state": "uploadOk", "index": 7, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "ddd9dd6560e85ef0f7298417920618d6", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "8.png", "hide": false, "percentage": 100, "loading": false, "size": 2949, "value": "", "text": "8.png", "title": "8.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "ddd9dd6560e85ef0f7298417920618d6", "md5ext": "ddd9dd6560e85ef0f7298417920618d6.png", "mode": "client", "state": "uploadOk", "index": 8, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "9eb804c144ff7719da6b2f9d673e51f4", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "9.png", "hide": false, "percentage": 100, "loading": false, "size": 2946, "value": "", "text": "9.png", "title": "9.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "9eb804c144ff7719da6b2f9d673e51f4", "md5ext": "9eb804c144ff7719da6b2f9d673e51f4.png", "mode": "client", "state": "uploadOk", "index": 9, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "3d48e54bd9ecd45c7d2d358e447e9b04", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "bg1.png", "hide": false, "percentage": 100, "loading": false, "size": 7554, "value": "", "text": "bg1.png", "title": "bg1.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "3d48e54bd9ecd45c7d2d358e447e9b04", "md5ext": "3d48e54bd9ecd45c7d2d358e447e9b04.png", "mode": "client", "state": "uploadOk", "index": 10, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "c9f0f3f6dfc9b06c32503ef111fd7a39", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "bg2.png", "hide": false, "percentage": 100, "loading": false, "size": 3034, "value": "", "text": "bg2.png", "title": "bg2.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "c9f0f3f6dfc9b06c32503ef111fd7a39", "md5ext": "c9f0f3f6dfc9b06c32503ef111fd7a39.png", "mode": "client", "state": "uploadOk", "index": 11, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "3cf321a7a65534a5abd59dc9aacae746", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "hit.wav", "hide": false, "percentage": 100, "loading": false, "size": 96590, "value": "", "text": "hit.wav", "title": "hit.wav", "disabled": false, "isExpanded": false, "dataFormat": "wav", "ext": "wav", "icon": "iconfont iconother", "svgId": "#iconother", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "3cf321a7a65534a5abd59dc9aacae746", "md5ext": "3cf321a7a65534a5abd59dc9aacae746.wav", "mode": "client", "state": "uploadOk", "index": 12, "preClick": false, "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "8e5306cb01f37c5e379c2ec357d51040", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "message.png", "hide": false, "percentage": 100, "loading": false, "size": 4856, "value": "", "text": "message.png", "title": "message.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "8e5306cb01f37c5e379c2ec357d51040", "md5ext": "8e5306cb01f37c5e379c2ec357d51040.png", "mode": "client", "state": "uploadOk", "index": 13, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "730f666c69c230d16cf635dcf4c3cb93", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "p1.png", "hide": false, "percentage": 100, "loading": false, "size": 5042, "value": "", "text": "p1.png", "title": "p1.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "730f666c69c230d16cf635dcf4c3cb93", "md5ext": "730f666c69c230d16cf635dcf4c3cb93.png", "mode": "client", "state": "uploadOk", "index": 14, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "fdbf23b9ffe48c40ed7c24590a6e5d9c", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "p2.png", "hide": false, "percentage": 100, "loading": false, "size": 5305, "value": "", "text": "p2.png", "title": "p2.png", "disabled": false, "isExpanded": false, "dataFormat": "png", "ext": "png", "icon": "iconfont iconimg", "svgId": "#iconimg", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "fdbf23b9ffe48c40ed7c24590a6e5d9c", "md5ext": "fdbf23b9ffe48c40ed7c24590a6e5d9c.png", "mode": "client", "state": "uploadOk", "index": 15, "preClick": false, "preview": true, "editable": false, "lang": "png", "color": "#FFA629", "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}, {"id": "e1458a87070cab0b76f245fbcacc334b", "isSelected": false, "level": 2, "isLeaf": true, "isDir": false, "name": "point.wav", "hide": false, "percentage": 100, "loading": false, "size": 177486, "value": "", "text": "point.wav", "title": "point.wav", "disabled": false, "isExpanded": false, "dataFormat": "wav", "ext": "wav", "icon": "iconfont iconother", "svgId": "#iconother", "type": "oss_file", "originValue": "", "isChange": false, "isActived": false, "sort": 0, "isOpen": false, "assetId": "e1458a87070cab0b76f245fbcacc334b", "md5ext": "e1458a87070cab0b76f245fbcacc334b.wav", "mode": "client", "state": "uploadOk", "index": 16, "preClick": false, "pid": 0, "path": "C:\\Users\\111\\\u5b66\u800c\u601d\u76f4\u64ad\\code\\cache\\asset\\4574015"}], "projectId": 4574015, "stuId": 32185128}